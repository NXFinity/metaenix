"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[300],{4031:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"scopes","title":"Scopes","description":"Scopes define what permissions your application can access on behalf of users. When requesting authorization, you must specify which scopes your application needs.","source":"@site/docs/scopes.md","sourceDirName":".","slug":"/scopes","permalink":"/enix_backend/docs/scopes","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/scopes.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"OAuth Authentication","permalink":"/enix_backend/docs/oauth"},"next":{"title":"Users API","permalink":"/enix_backend/docs/api/users"}}');var i=n(4848),c=n(8453);const t={sidebar_position:4},d="Scopes",o={},l=[{value:"Available Scopes",id:"available-scopes",level:2},{value:"User Scopes",id:"user-scopes",level:3},{value:"Post Scopes",id:"post-scopes",level:3},{value:"Storage Scopes",id:"storage-scopes",level:3},{value:"Account Scopes",id:"account-scopes",level:3},{value:"Requesting Scopes",id:"requesting-scopes",level:2},{value:"Example",id:"example",level:3},{value:"Scope Combinations",id:"scope-combinations",level:2},{value:"Basic Read-Only Access",id:"basic-read-only-access",level:3},{value:"Content Creation App",id:"content-creation-app",level:3},{value:"Full Access",id:"full-access",level:3},{value:"Scope Best Practices",id:"scope-best-practices",level:2},{value:"Checking Granted Scopes",id:"checking-granted-scopes",level:2},{value:"Response",id:"response",level:3},{value:"Scope Errors",id:"scope-errors",level:2},{value:"Incremental Authorization",id:"incremental-authorization",level:2},{value:"Revoking Scopes",id:"revoking-scopes",level:2},{value:"Next Steps",id:"next-steps",level:2}];function a(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"scopes",children:"Scopes"})}),"\n",(0,i.jsx)(s.p,{children:"Scopes define what permissions your application can access on behalf of users. When requesting authorization, you must specify which scopes your application needs."}),"\n",(0,i.jsx)(s.h2,{id:"available-scopes",children:"Available Scopes"}),"\n",(0,i.jsx)(s.h3,{id:"user-scopes",children:"User Scopes"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Scope"}),(0,i.jsx)(s.th,{children:"Description"}),(0,i.jsx)(s.th,{children:"Access Level"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"read:user"})}),(0,i.jsx)(s.td,{children:"Read user profile information"}),(0,i.jsx)(s.td,{children:"Read"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"write:user"})}),(0,i.jsx)(s.td,{children:"Update user profile and settings"}),(0,i.jsx)(s.td,{children:"Write"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"read:user:email"})}),(0,i.jsx)(s.td,{children:"Read user's email address"}),(0,i.jsx)(s.td,{children:"Read"})]})]})]}),"\n",(0,i.jsx)(s.h3,{id:"post-scopes",children:"Post Scopes"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Scope"}),(0,i.jsx)(s.th,{children:"Description"}),(0,i.jsx)(s.th,{children:"Access Level"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"read:post"})}),(0,i.jsx)(s.td,{children:"Read posts and comments"}),(0,i.jsx)(s.td,{children:"Read"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"write:post"})}),(0,i.jsx)(s.td,{children:"Create, update, and delete posts"}),(0,i.jsx)(s.td,{children:"Write"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"read:post:private"})}),(0,i.jsx)(s.td,{children:"Read private posts (user's own posts)"}),(0,i.jsx)(s.td,{children:"Read"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"write:comment"})}),(0,i.jsx)(s.td,{children:"Create and manage comments"}),(0,i.jsx)(s.td,{children:"Write"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"write:reaction"})}),(0,i.jsx)(s.td,{children:"Like, share, and bookmark posts"}),(0,i.jsx)(s.td,{children:"Write"})]})]})]}),"\n",(0,i.jsx)(s.h3,{id:"storage-scopes",children:"Storage Scopes"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Scope"}),(0,i.jsx)(s.th,{children:"Description"}),(0,i.jsx)(s.th,{children:"Access Level"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"read:storage"})}),(0,i.jsx)(s.td,{children:"Read file metadata"}),(0,i.jsx)(s.td,{children:"Read"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"write:storage"})}),(0,i.jsx)(s.td,{children:"Upload and delete files"}),(0,i.jsx)(s.td,{children:"Write"})]})]})]}),"\n",(0,i.jsx)(s.h3,{id:"account-scopes",children:"Account Scopes"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Scope"}),(0,i.jsx)(s.th,{children:"Description"}),(0,i.jsx)(s.th,{children:"Access Level"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"read:account"})}),(0,i.jsx)(s.td,{children:"Read account information"}),(0,i.jsx)(s.td,{children:"Read"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"write:account"})}),(0,i.jsx)(s.td,{children:"Modify account settings"}),(0,i.jsx)(s.td,{children:"Write"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"delete:account"})}),(0,i.jsx)(s.td,{children:"Delete user account"}),(0,i.jsx)(s.td,{children:"Write"})]})]})]}),"\n",(0,i.jsx)(s.h2,{id:"requesting-scopes",children:"Requesting Scopes"}),"\n",(0,i.jsx)(s.p,{children:"Include scopes in your authorization URL as a space-separated list:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"https://api.metaenix.com/v1/oauth/authorize?\r\n  client_id=YOUR_CLIENT_ID\r\n  &redirect_uri=YOUR_REDIRECT_URI\r\n  &response_type=code\r\n  &scope=read:user write:post read:post\n"})}),"\n",(0,i.jsx)(s.h3,{id:"example",children:"Example"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-javascript",children:"const scopes = [\r\n  'read:user',      // Read user profile\r\n  'read:user:email', // Read email address\r\n  'write:post',     // Create posts\r\n  'read:post',      // Read posts\r\n  'write:storage',  // Upload files\r\n].join(' ');\r\n\r\nconst authUrl = `https://api.metaenix.com/v1/oauth/authorize?` +\r\n  `client_id=${clientId}&` +\r\n  `redirect_uri=${redirectUri}&` +\r\n  `response_type=code&` +\r\n  `scope=${encodeURIComponent(scopes)}`;\n"})}),"\n",(0,i.jsx)(s.h2,{id:"scope-combinations",children:"Scope Combinations"}),"\n",(0,i.jsx)(s.h3,{id:"basic-read-only-access",children:"Basic Read-Only Access"}),"\n",(0,i.jsx)(s.p,{children:"For applications that only need to read public data:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"read:user read:post\n"})}),"\n",(0,i.jsx)(s.h3,{id:"content-creation-app",children:"Content Creation App"}),"\n",(0,i.jsx)(s.p,{children:"For applications that create content:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"read:user write:post write:comment write:reaction write:storage\n"})}),"\n",(0,i.jsx)(s.h3,{id:"full-access",children:"Full Access"}),"\n",(0,i.jsx)(s.p,{children:"For applications that need comprehensive access:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"read:user read:user:email write:user\r\nread:post read:post:private write:post write:comment write:reaction\r\nread:storage write:storage\r\nread:account write:account\n"})}),"\n",(0,i.jsx)(s.h2,{id:"scope-best-practices",children:"Scope Best Practices"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Request minimal scopes"})," - Only request what you need"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Explain why"})," - Users are more likely to grant permissions if they understand why"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Start small"})," - Request basic scopes first, add more as needed"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Respect user privacy"})," - Don't request sensitive scopes unnecessarily"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"checking-granted-scopes",children:"Checking Granted Scopes"}),"\n",(0,i.jsx)(s.p,{children:"The token response includes the granted scopes:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\r\n  "access_token": "...",\r\n  "token_type": "Bearer",\r\n  "expires_in": 3600,\r\n  "scope": "read:user write:post read:post"\r\n}\n'})}),"\n",(0,i.jsx)(s.p,{children:"You can also check what scopes are associated with a token:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"GET /v1/oauth/token/info\r\nAuthorization: Bearer YOUR_ACCESS_TOKEN\n"})}),"\n",(0,i.jsx)(s.h3,{id:"response",children:"Response"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\r\n  "scopes": ["read:user", "write:post", "read:post"],\r\n  "expires_at": "2025-01-15T12:00:00Z"\r\n}\n'})}),"\n",(0,i.jsx)(s.h2,{id:"scope-errors",children:"Scope Errors"}),"\n",(0,i.jsx)(s.p,{children:"If you request an invalid scope, the authorization will fail:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\r\n  "error": "invalid_scope",\r\n  "error_description": "The requested scope is invalid, unknown, or malformed"\r\n}\n'})}),"\n",(0,i.jsx)(s.h2,{id:"incremental-authorization",children:"Incremental Authorization"}),"\n",(0,i.jsx)(s.p,{children:"Users can grant additional scopes later. If you need more permissions:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"Request authorization again with additional scopes"}),"\n",(0,i.jsx)(s.li,{children:"Users will only be prompted for new scopes"}),"\n",(0,i.jsx)(s.li,{children:"The new token will include all previously granted scopes plus new ones"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"revoking-scopes",children:"Revoking Scopes"}),"\n",(0,i.jsx)(s.p,{children:"Users can revoke scopes at any time through their account settings. Your application should handle cases where previously granted scopes are no longer available."}),"\n",(0,i.jsx)(s.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.a,{href:"./oauth",children:"Set up OAuth"})})," - Implement OAuth in your application"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.a,{href:"./api/users",children:"Explore the API Reference"})})," - Start making API calls with your scopes"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,c.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>t,x:()=>d});var r=n(6540);const i={},c=r.createContext(i);function t(e){const s=r.useContext(c);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(c.Provider,{value:s},e.children)}}}]);